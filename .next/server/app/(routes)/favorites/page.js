(()=>{var e={};e.id=748,e.ids=[748],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},2951:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(70260),a=t(28203),o=t(25155),i=t.n(o),n=t(67292),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let d=["",{children:["(routes)",{children:["favorites",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,93572)),"/Users/ryancueva/pagina tricolor/Tricolor/fronted-tricolor/app/(routes)/favorites/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,14563)),"/Users/ryancueva/pagina tricolor/Tricolor/fronted-tricolor/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/ryancueva/pagina tricolor/Tricolor/fronted-tricolor/app/(routes)/favorites/page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(routes)/favorites/page",pathname:"/favorites",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41794:(e,r,t)=>{Promise.resolve().then(t.bind(t,93572))},76298:(e,r,t)=>{Promise.resolve().then(t.bind(t,17284))},17284:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(45512),a=t(58009),o=t(41870),i=t(5975),n=t(91124);let l=(0,t(41680).A)("HeartCrack",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"m12 13-1-1 2-2-3-3 2-2",key:"xjdxli"}]]);var d=t(45103),c=t(26008),p=t(44750);function u(){let{favorites:e,removeFavorite:r}=(0,o.r)(),{addItem:t}=(0,i._)(),[u,x]=(0,a.useState)({}),m=(e,r)=>{x(t=>({...t,[e]:r}))},f=(e,t)=>{r(e),p.oR.info(`"${t}" ha sido eliminado de tus favoritos â¤ï¸`)},h=(e,r)=>{try{let s=e.attributes,a=s.prices.find(e=>e.presentacion===r),o=a?.precio||0;if(!o){p.oR.error("No se pudo a\xf1adir el producto al carrito");return}let i=Number(s.discountPercentage)||0;t({id:e.id,productName:s.productName,slug:s.slug,description:s.description,image:g(s.images),quantity:1,prices:[{precio:o,presentacion:r}],discountPercentage:i,discountedPrice:i>0?o-o*i/100:null}),p.oR.success(`${s.productName} a\xf1adido al carrito ðŸ›’`)}catch(e){console.error("Error inesperado:",e),p.oR.error("Ocurri\xf3 un error. Int\xe9ntalo nuevamente.")}},g=e=>{if(e?.data?.length>0){let r=e.data[0];if(r?.attributes?.url){let e=r.attributes.url;return e.startsWith("http")?e:`https://servidor-tricolor-64a23aa2b643.herokuapp.com${e}`}}return"/placeholder.png"};return(0,s.jsx)("div",{className:"flex flex-col min-h-screen bg-gray-100",children:(0,s.jsxs)("main",{className:"flex-1 max-w-6xl px-4 py-16 mx-auto sm:px-6 lg:px-8",children:[(0,s.jsx)("h1",{className:"mb-8 text-3xl text-blue-700 font-bold text-center sm:text-left",children:"Productos Favoritos"}),(0,s.jsxs)("div",{className:"grid gap-8",children:[0===e.length&&(0,s.jsx)("p",{className:"text-center text-gray-500",children:"No tienes productos favoritos."}),(0,s.jsx)("ul",{className:"space-y-6",children:e.map((e,r)=>{if(!e||!e.attributes)return(0,s.jsx)("li",{children:(0,s.jsx)("p",{children:"Error: No se recibi\xf3 informaci\xf3n del producto."})},`undefined-${r}`);let t=e.attributes,a=g(t.images),o=Array.isArray(t.prices)?t.prices:[],i=u[e.id]||(o.length>0?o[0].presentacion:"N/A"),p=parseFloat(o.find(e=>e.presentacion===i)?.precio||"0")||0,x=parseFloat(t.discountPercentage)||0,v=x>0?(p-p*x/100).toFixed(2):p.toFixed(2);return(0,s.jsxs)("li",{className:"relative flex flex-col sm:flex-row items-center gap-4 p-4 rounded-lg shadow-lg bg-white max-w-lg mx-auto",children:[(0,s.jsx)(c.default,{href:`/product/${t.slug}`,passHref:!0,children:(0,s.jsx)("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 rounded-md overflow-hidden cursor-pointer",children:(0,s.jsx)(d.default,{src:a,alt:t.productName||"Producto",layout:"fill",objectFit:"contain"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-md font-bold text-gray-800",children:t.productName||"Producto sin nombre"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.description}),x>0&&(0,s.jsx)("p",{className:"text-sm font-semibold text-green-600",children:`Descuento: ${x}%`}),o.length>0&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-800",children:"Presentaciones:"}),(0,s.jsx)("div",{className:"flex gap-1 mt-1",children:o.map((r,t)=>(0,s.jsx)("button",{className:`px-2 py-1 border rounded-md text-xs ${i===r.presentacion?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,onClick:()=>m(e.id,r.presentacion),children:r.presentacion},`${e.id}-${t}`))})]}),(0,s.jsx)("div",{className:"mt-2",children:x>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"text-xs text-red-600 line-through mr-2",children:["$",p.toFixed(2)]}),(0,s.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["$",v]})]}):(0,s.jsxs)("span",{className:"text-lg font-semibold text-gray-800",children:["$",p.toFixed(2)]})}),(0,s.jsxs)("button",{className:"mt-2 bg-blue-600 text-white py-1 px-3 rounded-lg hover:bg-blue-500 transition flex items-center gap-2 text-sm",onClick:()=>h(e,i),children:[(0,s.jsx)(n.A,{size:16}),"A\xf1adir"]})]}),(0,s.jsx)("button",{className:"absolute top-2 right-2 p-2 rounded-full bg-white shadow-md cursor-pointer z-10",onClick:()=>f(e.id,t.productName),children:(0,s.jsx)(l,{className:"text-red-500",size:18})})]},`${e.id}-${i}`)})})]})]})})}},41870:(e,r,t)=>{"use strict";t.d(r,{r:()=>o});var s=t(72803),a=t(19499);let o=(0,s.v)((0,a.Zr)(e=>({favorites:[],addFavorite:r=>e(e=>({favorites:[...e.favorites,r]})),removeFavorite:r=>e(e=>({favorites:e.favorites.filter(e=>e.id!==r)}))}),{name:"favorites-storage"}))},93572:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ryancueva/pagina tricolor/Tricolor/fronted-tricolor/app/(routes)/favorites/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ryancueva/pagina tricolor/Tricolor/fronted-tricolor/app/(routes)/favorites/page.tsx","default")},46055:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(88077);let a=async e=>[{type:"image/x-icon",sizes:"149x192",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[989,395,77,59],()=>t(2951));module.exports=s})();