{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryancueva/pagina%20tricolor/Tricolor/fronted-tricolor/app/data/services/get-token.ts"],"sourcesContent":["import { cookies } from \"next/headers\";\n\nexport async function getAuthToken() {\n  const cookieStore = await cookies();\n  const authToken = cookieStore.get(\"jwt\")?.value;\n  return authToken;\n}\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAChC,MAAM,YAAY,YAAY,GAAG,CAAC,QAAQ;IAC1C,OAAO;AACT"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryancueva/pagina%20tricolor/Tricolor/fronted-tricolor/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\nexport function getStrapiURL() {\n  return process.env.NEXT_PUBLIC_BACKEND_URL;\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,uIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AACO,SAAS;IACd;AACF"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryancueva/pagina%20tricolor/Tricolor/fronted-tricolor/app/data/services/get-user-me-loader.ts"],"sourcesContent":["// @ts-nocheck\n\nimport { getAuthToken } from \"./get-token\";\nimport { getStrapiURL } from \"@/lib/utils\";\n\ninterface UserMeResponse {\n  ok: boolean;\n  data: Record<string, any> | null;\n  error: any | null;\n}\n\nexport async function getUserMeLoader(): Promise<UserMeResponse> {\n  try {\n    const baseUrl = getStrapiURL();\n\n    // Construimos la URL completa\n    const url = new URL(\"/api/users/me\", baseUrl);\n\n    // Obtenemos el token de autenticación\n    const authToken = await getAuthToken();\n    if (!authToken) {\n      console.warn(\"getUserMeLoader: No se encontró token de autenticación.\");\n      return {\n        ok: false,\n        data: null,\n        error: \"No se encontró token de autenticación\",\n      };\n    }\n\n    // Realizamos la solicitud a la API\n    const response = await fetch(url.href, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${authToken}`,\n      },\n    });\n\n    // Intentamos parsear la respuesta\n    const data = await response.json();\n\n    // Si la respuesta no es exitosa\n    if (!response.ok) {\n      console.error(\n        `getUserMeLoader: Error en la solicitud (${response.status})`,\n        data\n      );\n      return {\n        ok: false,\n        data: null,\n        error: data?.message || \"Error desconocido al obtener el usuario\",\n      };\n    }\n\n    // Si la solicitud es exitosa\n    return { ok: true, data, error: null };\n  } catch (error) {\n    console.error(\"getUserMeLoader: Error inesperado\", error);\n    return { ok: false, data: null, error: error.message || error };\n  }\n}\n"],"names":[],"mappings":"AAAA,cAAc;;;;AAEd;AACA;;;AAQO,eAAe;IACpB,IAAI;QACF,MAAM,UAAU,CAAA,GAAA,8GAAA,CAAA,eAAY,AAAD;QAE3B,8BAA8B;QAC9B,MAAM,MAAM,IAAI,IAAI,iBAAiB;QAErC,sCAAsC;QACtC,MAAM,YAAY,MAAM,CAAA,GAAA,yIAAA,CAAA,eAAY,AAAD;QACnC,IAAI,CAAC,WAAW;YACd,QAAQ,IAAI,CAAC;YACb,OAAO;gBACL,IAAI;gBACJ,MAAM;gBACN,OAAO;YACT;QACF;QAEA,mCAAmC;QACnC,MAAM,WAAW,MAAM,MAAM,IAAI,IAAI,EAAE;YACrC,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,eAAe,CAAC,OAAO,EAAE,WAAW;YACtC;QACF;QAEA,kCAAkC;QAClC,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,gCAAgC;QAChC,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,QAAQ,KAAK,CACX,CAAC,wCAAwC,EAAE,SAAS,MAAM,CAAC,CAAC,CAAC,EAC7D;YAEF,OAAO;gBACL,IAAI;gBACJ,MAAM;gBACN,OAAO,MAAM,WAAW;YAC1B;QACF;QAEA,6BAA6B;QAC7B,OAAO;YAAE,IAAI;YAAM;YAAM,OAAO;QAAK;IACvC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qCAAqC;QACnD,OAAO;YAAE,IAAI;YAAO,MAAM;YAAM,OAAO,MAAM,OAAO,IAAI;QAAM;IAChE;AACF"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///Users/ryancueva/pagina%20tricolor/Tricolor/fronted-tricolor/app/api/user/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { getAuthToken } from \"@/app/data/services/get-token\";\nimport { getUserMeLoader } from \"@/app/data/services/get-user-me-loader\";\n\nexport async function GET() {\n  // Obtén el token de autenticación\n  const token = await getAuthToken();\n\n  // Si no hay token, devuelve respuesta inmediata\n  if (!token) {\n    return NextResponse.json({\n      ok: false,\n      data: null,\n      error: \"No se encontró token de autenticación.\",\n    });\n  }\n\n  // Llama a getUserMeLoader() solo si hay un token\n  const userData = await getUserMeLoader();\n  if (userData.ok) {\n    return NextResponse.json({ ok: true, data: userData.data });\n  }\n\n  // Devuelve error si el usuario no es válido\n  return NextResponse.json({\n    ok: false,\n    data: null,\n    error: \"Usuario no autenticado o token inválido.\",\n  });\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEO,eAAe;IACpB,kCAAkC;IAClC,MAAM,QAAQ,MAAM,CAAA,GAAA,yIAAA,CAAA,eAAY,AAAD;IAE/B,gDAAgD;IAChD,IAAI,CAAC,OAAO;QACV,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,IAAI;YACJ,MAAM;YACN,OAAO;QACT;IACF;IAEA,iDAAiD;IACjD,MAAM,WAAW,MAAM,CAAA,GAAA,wJAAA,CAAA,kBAAe,AAAD;IACrC,IAAI,SAAS,EAAE,EAAE;QACf,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAM,MAAM,SAAS,IAAI;QAAC;IAC3D;IAEA,4CAA4C;IAC5C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QACvB,IAAI;QACJ,MAAM;QACN,OAAO;IACT;AACF"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}